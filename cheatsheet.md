                                   CHEAT SHEAT

ä¸€.å…ƒç»„æ’åºæ–¹å¼ï¼š

```python
lst.sort(key=lambda x: x[1])                   æŒ‰ã€Œç¬¬äºŒä¸ªå…ƒç´ ã€å‡åºæ’åº
lst.sort(key=lambda x: x[1], reverse=True)     æŒ‰ç¬¬äºŒä¸ªå…ƒç´ ã€Œé™åºã€æ’åº
new_lst = sorted(lst, key=lambda x: x[1])      ä¸æ”¹å˜åŸåˆ—è¡¨ï¼ˆç”Ÿæˆæ–°åˆ—è¡¨ï¼‰
s.sort()                                 é»˜è®¤æŒ‰ç¬¬ä¸€ä¸ª.ç¬¬äºŒä¸ª.ç¬¬ä¸‰ä¸ª...ä¾æ¬¡ä»å°åˆ°å¤§æ’ä¸‹å»
```

```python
ğŸ§  è¿™ä¸€è¡Œåˆ°åº•åœ¨å¹²å˜›ï¼Ÿ
s.sort(key=lambda x: (-x[0], -x[1], x[2]))
ç­‰ä»·äºä½ æ‰‹åŠ¨å†™çš„ä¸‰è½®æ’åºï¼š
æ’åºä¼˜å…ˆçº§	å…ƒç´ 	æ–¹å¼
ç¬¬ä¸€å…³é”®å­—	æ€»åˆ† x[0]	é™åº -x[0]
ç¬¬äºŒå…³é”®å­—	è¯­æ–‡ x[1]	é™åº -x[1]
ç¬¬ä¸‰å…³é”®å­—	ç¼–å· x[2]	å‡åº
ğŸ“Œ Python ä¼šï¼š
å…ˆæ¯”ç¬¬ä¸€ä¸ªï¼Œç›¸ç­‰å†æ¯”ç¬¬äºŒä¸ªï¼Œè¿˜ç›¸ç­‰å†æ¯”ç¬¬ä¸‰ä¸ªï¼Œå®Œå…¨ä¸éœ€è¦ä½ è‡ªå·±åˆ†æ®µå¤„ç†
```

äºŒ.ä¿ç•™å‡ ä½å°æ•°

```python
x = 3.1415926
print(f"{x:.2f}")   # ä¿ç•™2ä½å°æ•°
print(f"{x:.4f}")   # ä¿ç•™4ä½å°æ•°
```

å¦‚æœä¿ç•™ä½æ•°æ˜¯å˜é‡ï¼š

```python
x = 3.1415926
n = 3
print(f"{x:.{n}f}")  # æ³¨æ„å†™æ³•
```



ä¸‰.å¸¦å˜é‡å€¼çš„è¾“å‡º

```python
  print(f"{b} {c}")
  f'{ å˜é‡å}{ }{ }'ä¼šè½¬åŒ–æˆå˜é‡å€¼
  f"'{}'"(å¦‚æœéœ€è¦å¼•å·)
  print(a,b,c)  é»˜è®¤å¸¦ç©ºæ ¼
```

å››.å­—ç¬¦ä¸²æ¯”è¾ƒ

Python ä¸­å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯ **æŒ‰å­—ç¬¦çš„ Unicode ç¼–ç å€¼ï¼Œä»å·¦åˆ°å³é€ä¸ªæ¯”è¾ƒçš„å­—å…¸åºæ¯”è¾ƒ**

```python
words = ["apple", "Banana", "cat"ï¼Œâ€˜'category']
words.sort()
print(words)
```



äº”.æœ‰å…³ASCIIç 

å¤§å°å†™è½¬æ¢

'X' == 'x'.upper() 

'x' == 'X'.lower() 

**ASCII ç **ï¼š

> ç”¨ **0ï½127 çš„æ•´æ•°** æ¥è¡¨ç¤ºæœ€å¸¸è§çš„å­—ç¬¦ï¼ˆå­—æ¯ã€æ•°å­—ã€ç¬¦å·ã€æ§åˆ¶å­—ç¬¦ï¼‰

ğŸ‘‰ æœ¬è´¨å°±æ˜¯ï¼š**å­—ç¬¦ â‡„ æ•°å­—**



### 1ï¸âƒ£ æ•°å­—å­—ç¬¦,å¤§å†™å­—æ¯ï¼Œå°å†™å­—æ¯

```python
'0' ~ '9'  â†’  48 ~ 57
'A' ~ 'Z'  â†’  65 ~ 90
'a' ~ 'z'  â†’  97 ~ 122
å¤§å°å†™è½¬æ¢ï¼š'a' - 'A' = 32  å³ord('a') == ord('A') + 32
```

------

## ä¸‰ã€Python é‡Œæ€ä¹ˆç”¨ ASCIIï¼Ÿ

### 1ï¸âƒ£ å­—ç¬¦ â†’ ASCII

```
ord('a')   # 97
ord('A')   # 65
ord('1')   # 49
```

------

### 2ï¸âƒ£ ASCII â†’ å­—ç¬¦

```
chr(97)    # 'a'
chr(65)    # 'A'
chr(48)    # '0'
```

æ’åºé¡ºåºå°±æ˜¯ï¼š

```
æ•°å­— < å¤§å†™å­—æ¯ < å°å†™å­—æ¯
```

### ğŸš¨ å‘ 1ï¼šæ•°å­—å­—ç¬¦ä¸²æ¯”è¾ƒ

```
print("10" < "2")   # True
```

------

### 4ï¸âƒ£ å­—æ¯ä½ç§»ï¼ˆå‡¯æ’’å¯†ç ã€åŠ å¯†é¢˜ï¼‰

```
c = 'a'
k = 3
new_c = chr(ord(c) + k)  # 'd'
```



å…­.åºåˆ—åˆ‡ç‰‡ï¼ˆåˆ—è¡¨ä¸å­—ç¬¦ä¸²ï¼‰

```python
åºåˆ—[start : end : step]   stepæ­¥é•¿ï¼Œå¯çœç•¥ï¼Œé»˜è®¤ä¸º1
```

```
å­—ç¬¦ä¸²ä¹Ÿæœ‰
s='abcdef'
s[0]ä¸s[-1]   s[::-1](å€’åº)   butï¼  å­—ç¬¦ä¸²ä¸èƒ½ä¿®æ”¹ï¼Œæ¯”å¦‚s[0]=xä¼šæŠ¥é”™ï¼ˆåˆ—è¡¨å¯ä»¥æ”¹ï¼‰
```

```python
æ³¨æ„ï¼Œå­—ç¬¦ä¸²æ˜¯'1','2','3','4'
ä½†æ˜¯æ•´æ•°æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4
```

```
å­—ç¬¦ä¸²å’Œåˆ—è¡¨éƒ½å¯ä»¥åŠ æ³•ä½œæ‹¼æ¥
```



ä¸ƒ.å…¥å£å‡½æ•°

æœ‰äº›æ—¶å€™èƒ½é™æ—¶é—´

```python
def main():
    ä»£ç å†…å®¹
if _name_=="_main_":
    main() #è°ƒç”¨å…¥å£å‡½æ•°
```

å…«.è¾“å…¥é—®é¢˜

input()é»˜è®¤å¾—åˆ°å­—ç¬¦ä¸²ï¼

stripå¯ä»¥å»æ‰å­—ç¬¦ä¸²â€œä¸¤ç«¯â€çš„ç©ºç™½å­—ç¬¦ï¼ˆåŒ…æ‹¬ ç©ºæ ¼ `' '`  æ¢è¡Œ `\n  `  åˆ¶è¡¨ç¬¦ `\t`ï¼‰**åªå»ä¸¤è¾¹ï¼Œä¸å»ä¸­é—´**

```python
s.strip()   # å»ä¸¤è¾¹
s.lstrip()  # å»å·¦è¾¹
s.rstrip()  # å»å³è¾¹
```

```python
å»æ‰æŒ‡å®šå­—ç¬¦
s = "xxabxcxx"
print(s.strip("x"))   # abxc æ³¨æ„æ˜¯å»æ‰ä¸¤è¾¹çš„x
```

split **æŠŠä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‰æŸä¸ªåˆ†éš”ç¬¦ï¼Œæ‹†æˆåˆ—è¡¨**

1.ä¸å†™å‚æ•°

```python
1.ä¸å†™å‚æ•°:  é»˜è®¤æŒ‰ä»»æ„ç©ºç™½(1ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ã€Tab)åˆ†å‰²,è¿ç»­ç©ºæ ¼ä¼šè¢«å½“æˆä¸€ä¸ª
s = "12B 34D"
print(s.split())
```

2.æŒ‡å®šåˆ†éš”ç¬¦

```python
s = "a,b,c"
print(s.split(','))  #['a', 'b', 'c']
```

3.å¸¸è§è¾“å…¥

```python
1.å¤šä¸ªæ•´æ•°
nums = list(map(int, input().split()))
2.å­—ç¬¦ä¸²ï¼‹å­—ç¬¦ä¸²
a, b = input().split()
3.å­—ç¬¦ä¸²ï¼‹æ•´æ•°
s, n = input().split()
n = int(n)

```

- `strip()` â†’ è¿”å› **æ–°å­—ç¬¦ä¸²**
- `split()` â†’ è¿”å› **åˆ—è¡¨**

ä¹.ç‰¹æ®Šçš„è¾“å…¥

1.ä¸å®šè¡Œè¾“å…¥ï¼ˆEOF)

```python
lines=[]

while True:
    try:
        line = input().strip()
        lines.append(line)#æŠŠè¯»å…¥çš„ä¿å­˜ä¸‹æ¥
    except EOFError:
        break
```

2.ä¸€æ•´è¡Œå½“å­—ç¬¦ä¸²ï¼ˆå«ç©ºæ ¼ï¼‰

```python
s = input()   # ä¸è¦ split
```

3.

```python
matrix = [list(map(int, input().split())) for _ in range(5)]
#è¿™æ˜¯åˆ—è¡¨æ¨å¯¼å¼ [è¡¨è¾¾å¼ for å˜é‡ in å¯è¿­ä»£å¯¹è±¡ if æ¡ä»¶]
```

ä¹.è¾“å‡º

```python
nums = [1,2,3,4,5]
print(",".join(map(str, nums)))
```

# 

`join()` ä½œç”¨ï¼šæŠŠ iterable ä¸­çš„å­—ç¬¦ä¸²ï¼Œç”¨æŒ‡å®šåˆ†éš”ç¬¦è¿æ¥èµ·æ¥ã€‚

å·¦è¾¹çš„æ˜¯åˆ†éš”ç¬¦     å³è¾¹æ˜¯å¤šä¸ªå­—ç¬¦ä¸²çš„åˆ—è¡¨æˆ–å…ƒç»„   å¿…é¡»å…¨éƒ¨æ˜¯å­—ç¬¦ä¸²ï¼Œå¦åˆ™å‡ºé”™

```python
 " ".join(res)    ç”¨ç©ºæ ¼è¿æ¥    370 371 407
 ",".join(res)    ç”¨é€—å·è¿æ¥    370,371,407
 "".join(res)    æ— åˆ†éš”ç¬¦ç›´æ¥æ‹¼æ¥  370371407
```

 å.æ»‘åŠ¨çª—å£

# æ¨¡æ¿ 1ï¸âƒ£ï¼šç»Ÿè®¡ã€Œâ‰¤ kã€çš„å­æ•°ç»„ä¸ªæ•°ï¼ˆä½ è¿™é¢˜ï¼‰

### ğŸ¯ ç‰¹å¾

- æ¡ä»¶æ˜¯ã€Œ**è‡³å¤š / ä¸è¶…è¿‡ / â‰¤**ã€

- ç»Ÿè®¡**æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è¿ç»­å­æ•°ç»„**

  ```python
   from collections import defaultdict
  
    cnt = defaultdict(int)
    l = 0
    ans = 0
    state = 0  # çª—å£å†…çš„â€œå…³é”®æŒ‡æ ‡â€ï¼Œå¦‚ä¸åŒæ•°çš„ä¸ªæ•°
  
    for r in range(n):
        if cnt[a[r]] == 0:
            state += 1
        cnt[a[r]] += 1
  
        while state > k:
            cnt[a[l]] -= 1
            if cnt[a[l]] == 0:
                state -= 1
            l += 1
        
        ans += r - l + 1
  
  
  ```

  â€œæ°å¥½ç­‰äº kâ€ :æ°å¥½ k = è‡³å¤š k âˆ’ è‡³å¤š (k âˆ’ 1)


# äº”ã€æ¨¡æ¿ 3ï¸âƒ£ï¼šæœ€é•¿ / æœ€çŸ­å­æ•°ç»„

### ğŸ¯ ç‰¹å¾

- é—®çš„æ˜¯ **æœ€é•¿é•¿åº¦ / æœ€çŸ­é•¿åº¦**
- ä»ç„¶æ˜¯ã€Œâ‰¤ k / â‰¥ kã€

### âœ… æœ€é•¿åˆæ³•å­æ•°ç»„

```python
l = 0
ans = 0

for r in range(n):
    # æ‰©å¼ çª—å£

    while ä¸åˆæ³•:
        l += 1

    ans = max(ans, r - l + 1)
```

| æ–¹æ³•         | æœ¬è´¨                 | é€‚ç”¨å‰æ         | èƒ½è§£å†³ä»€ä¹ˆ    |
| ------------ | -------------------- | ---------------- | ------------- |
| **æ»‘åŠ¨çª—å£** | åŠ¨æ€ç»´æŠ¤ä¸€ä¸ªè¿ç»­åŒºé—´ | è¿ç»­ + å•è°ƒçº¦æŸ  | è®¡æ•° / æœ€å€¼   |
| **å‰ç¼€å’Œ**   | åŒºé—´å€¼ â†’ å¸¸æ•°æ—¶é—´    | åŒºé—´å¯è¡¨ç¤ºä¸ºå‡æ³• | åŒºé—´å’Œ / æ¬¡æ•° |
| **åŒæŒ‡é’ˆ**   | ä¸¤ç«¯å¤¹é€¼             | å•è°ƒæ€§ / æ’åº    | ä¸¤æ•°å’Œã€åˆå¹¶  |

# ğŸ“Œ å››ã€å‰ç¼€å’Œ Â· è€ƒè¯•æ¨¡æ¿

### ã€åŒºé—´å’Œ = k çš„ä¸ªæ•°ã€‘

```
from collections import defaultdict

pre = 0
cnt = defaultdict(int)
cnt[0] = 1
ans = 0

for x in a:
    pre += x
    ans += cnt[pre - k]
    cnt[pre] += 1
```

ğŸ“ **å¯è´Ÿæ•° â†’ åªèƒ½å‰ç¼€å’Œï¼Œä¸èƒ½æ»‘çª—**

------

# ğŸ“Œ äº”ã€åŒæŒ‡é’ˆ Â· è€ƒè¯•æ¨¡æ¿

### ã€æœ‰åºæ•°ç»„ä¸¤æ•°å’Œ = targetã€‘

```
l, r = 0, n - 1
while l < r:
    s = a[l] + a[r]
    if s == target:
        break
    elif s < target:
        l += 1
    else:
        r -= 1
```

```python
cnt = defaultdict(int)
ğŸ‘‰ å“ˆå¸Œè¡¨

cnt[x] = å½“å‰çª—å£é‡Œï¼Œæ•°å­— x å‡ºç°äº†å‡ æ¬¡
```

```python
#(*[ ],sep="\n")æ˜¯æ¢è¡Œç¬¦å·
#sep=""ä¸­""é‡Œé¢æ˜¯åˆ—è¡¨ä¸­ä¸¤ä¸ªå…ƒç´ çš„é—´éš”ç¬¦å·
```

 

å­—å…¸ä¸é›†åˆ

```
d = {"a": 1, "b": 2}
d = {}  # ç©ºå­—å…¸
```



## ğŸ“Œ dict.get(key, default)

è¯­æ³•ï¼š

```
dict.get(é”®, é»˜è®¤å€¼)
```

ä½œç”¨ï¼š

> **æ ¹æ® key å– value**
>  å¦‚æœ key å­˜åœ¨ â†’ è¿”å›å¯¹åº” value
>  å¦‚æœ key ä¸å­˜åœ¨ â†’ è¿”å›é»˜è®¤å€¼ï¼ˆä¸ä¼šæŠ¥é”™ï¼‰

# ğŸ§© ä¸€ã€setï¼ˆé›†åˆï¼‰â€”â€”å»é‡ + åˆ¤æ–­å­˜åœ¨ + é›†åˆè¿ç®—

### âœ” å®šä¹‰

```
s = {1, 2, 3}
s = set([1, 2, 2, 3])  # è‡ªåŠ¨å»é‡ -> {1, 2, 3}
```







å…¸å‹é¢˜ç›®

ä¸€.æœ€é•¿é€’å¢å­åºåˆ—ï¼š

```python
s=list(map(int,input().split(',')))
n=len(s)
dp=[1]*(n)
if n==1:
  print(1)#ä¸éœ€è¦ç‰¹åˆ¤n=1
else:
  for i in range(n):
â€‹    for j in range(i):
â€‹      if s[j]<s[i]:
â€‹        dp[i]=max(dp[i],dp[j]+1)
  print(max(dp))#æœ€ä¼˜è§£ä¸çŸ¥é“æ˜¯ä»¥å“ªä¸ªå…ƒç´ ç»“å°¾ï¼
```



```python
from bisect import bisect_left

s=list(map(int,input().split()))

sub=[]

for x in s:

  i=bisect_left(sub,x)

  if i ==len(sub):

â€‹    sub.append(x)

  else:

â€‹    sub[i]=x

print(sub)

print(len(sub))
```

æ‹¦æˆªå¯¼å¼¹

```
from bisect import bisect_right

k=int(input())

s=list(map(int,input().split()))

for i in range(k):

  s[i]=s[i]*(-1)

sub=[]

for x in s:

  i=bisect_right(sub,x)

  if i ==len(sub):

â€‹    sub.append(x)

  else:

â€‹    sub[i]=x

print(len(sub))
```

è®°å¿†åŒ–é€’å½’

```
import sys

sys.setrecursionlimit(10**7)

n,a,b,c=map(int,input().split())

from functools import lru_cache

@lru_cache(None)

def f(n):

  if n==0:

â€‹    return 0

  if n<0:

â€‹    return float('-inf')#å‰ªåˆ‡è¿‡å¤´äº†ï¼Œç»™ä¸-infåœ¨åç»­çš„å–maxä¸­å°±æ²¡æ‰äº†

  return 1+max(f(n-a),f(n-b),f(n-c))

print(f(n))
```

bfsæœ€çŸ­è·¯å¾„

```python
from collections import deque
def bfs(grid,n,m):
    q=deque([(0,0)])
    dist={(0,0):0}
    parent={(0,0):None}
    dirs=[(1,0), (-1,0), (0,1), (0,-1)]

    while q:
        x,y=q.popleft()

        if (x,y)==(n-1,m-1):
            path=[]
            cur=(x,y)
            while cur is not None:
                path.append(cur)
                cur=parent[cur]
            path.reverse()
            return path

        for dx,dy in dirs:
            nx,ny=x+dx,y+dy

            if 0<=nx<n and 0<=ny<m and grid[nx][ny]==0:
                if (nx,ny) not in dist:
                    dist[(nx,ny)]=dist[(x,y)]+1
                    parent[(nx,ny)]=(x,y)
                    q.append((nx,ny))
            
n,m=map(int,input().split())
grid=[list(map(int,input().split()))  for _ in range(n)]
ways=(bfs(grid,n,m))
for x,y in ways:
    print(x+1,y+1)
```

å›æ–‡ä¸²

```
class Solution:
    def longestPalindrome(self, s: str) -> str:
        n = len(s)
        if n < 2:
            return s
        
        start = 0
        max_len = 1
        
        def expand(left, right):
            while left >= 0 and right < n and s[left] == s[right]:
                left -= 1
                right += 1
            # è¿”å›å½“å‰å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®
            return left + 1, right - 1
        
        for i in range(n):
            # å¥‡æ•°é•¿åº¦å›æ–‡
            l1, r1 = expand(i, i)
            if r1 - l1 + 1 > max_len:
                start = l1
                max_len = r1 - l1 + 1
            
            # å¶æ•°é•¿åº¦å›æ–‡
            l2, r2 = expand(i, i + 1)
            if r2 - l2 + 1 > max_len:
                start = l2
                max_len = r2 - l2 + 1
        
        return s[start:start + max_len]

```

å…¨æ’åˆ—

```python
# ä»è¾“å…¥è¯»å…¥ä¸€è¡Œæ•°å­—ï¼Œå¹¶è½¬æ¢ä¸ºæ•´æ•°åˆ—è¡¨
nums = list(map(int, input().split()))
nums.sort()  # å¯é€‰ï¼šä¿è¯è¾“å‡ºé¡ºåºä¸€è‡´

result = []  # ç”¨æ¥å­˜æ”¾æ‰€æœ‰æ’åˆ—

# é€’å½’å‡½æ•°ï¼Œç´¯ç§¯å‰ç¼€ path
def dfs(remaining, path):
    if not remaining:  # base caseï¼šæ²¡æœ‰å‰©ä½™æ•°å­—ï¼Œå½“å‰ path æ˜¯ä¸€æ¡å®Œæ•´æ’åˆ—
        result.append(path)  # ç›´æ¥æŠŠ path åŠ å…¥ç»“æœ
        return
    for i in range(len(remaining)):
        # å½“å‰é€‰ä¸€ä¸ªæ•°å­—ï¼ŒåŠ åˆ° path ä¸­ï¼Œå‰©ä½™æ•°å­—é€’å½’å¤„ç†
        dfs(remaining[:i] + remaining[i+1:], path + [remaining[i]])

# åˆå§‹è°ƒç”¨ï¼šå‰ç¼€ä¸ºç©ºï¼Œå‰©ä½™æ˜¯æ•´ä¸ª nums
dfs(nums, [])

# è¾“å‡ºç»“æœ
print(result)

```

# ğŸ§­ DFS Cheat Sheet

## 1ï¸âƒ£ DFS æ˜¯ä»€ä¹ˆï¼Ÿ

- ä¸€æ¡è·¯èµ°åˆ°é»‘ï¼ˆé€’å½’/æ ˆï¼‰
- æ›´é€‚åˆï¼š
  - **è¿é€šå—ç»Ÿè®¡**
  - **å›æº¯ç±»é—®é¢˜**ï¼ˆç»„åˆã€æ’åˆ—ã€å­é›†ï¼‰
  - **æ‹“æ‰‘æ’åº**
  - **æ ‘/å›¾æœç´¢**
- ä¸ä¿è¯æœ€çŸ­è·¯å¾„ï¼ˆBFSæ‰ä¿è¯ï¼‰

------

## 2ï¸âƒ£ é€šç”¨ DFS æ¨¡æ¿ï¼ˆé€’å½’ï¼‰

### ğŸ§± å›¾ or ç½‘æ ¼ DFSï¼ˆå¸¦ visitedï¼‰

```
def dfs(x):
    if x in visited:
        return
    visited.add(x)

    for y in graph[x]:
        dfs(y)
```

### ğŸ”² ç½‘æ ¼ DFSï¼ˆå››æ–¹å‘/å…«æ–¹å‘ï¼‰

```
def dfs(i, j):
    if i<0 or i>=n or j<0 or j>=m: return
    if visited[i][j]: return
    
    visited[i][j] = True
    
    for dx,dy in [(1,0),(-1,0),(0,1),(0,-1)]:
        dfs(i+dx, j+dy)
```

------

## 3ï¸âƒ£ å›æº¯ DFS æ¨¡æ¿ï¼ˆâ­ç»å…¸ï¼‰

### å­é›†

```
res = []
path = []
def dfs(i):
    if i == n:
        res.append(path[:])
        return
    
    path.append(nums[i])
    dfs(i+1)
    path.pop()

    dfs(i+1)
```

### æ’åˆ—

```
res = []
path = []
used = [False] * n

def dfs():
    if len(path) == n:
        res.append(path[:])
        return
    
    for i in range(n):
        if not used[i]:
            used[i] = True
            path.append(nums[i])
            dfs()
            path.pop()
            used[i] = False
```

------

## 4ï¸âƒ£ æ ‘ DFS æ¨¡æ¿

```
def dfs(node):
    if not node:
        return
    dfs(node.left)
    dfs(node.right)
```

ï¼ˆå‰åº/ä¸­åº/ååºæŒ‰è°ƒç”¨é¡ºåºè°ƒæ•´ï¼‰

------

## 5ï¸âƒ£ é˜²æ­¢æ­»å¾ªç¯çš„æ ¸å¿ƒè¦ç‚¹

| åœºæ™¯ | æ€ä¹ˆåš                 |
| ---- | ---------------------- |
| å›¾   | ä½¿ç”¨ `visited` é›†åˆ    |
| ç½‘æ ¼ | `visited[][]` æˆ–æ”¹å€¼   |
| å›æº¯ | `used[]`               |
| æ ‘   | å¤©ç„¶æ— ç¯ï¼Œæ— éœ€ visited |

------

## 6ï¸âƒ£ DFS vs BFS å¿«é€Ÿåˆ¤æ–­

| åœºæ™¯             | DFS  | BFS  |
| ---------------- | ---- | ---- |
| æœ€çŸ­è·¯           | âŒ    | âœ”ï¸    |
| éœ€è¦ç©·ä¸¾å…¨è§£     | âœ”ï¸    | âŒ    |
| å›æº¯ï¼ˆç»„åˆæ’åˆ—ï¼‰ | âœ”ï¸    | âŒ    |
| é€šè·¯å­˜åœ¨æ€§       | âœ”ï¸    | âœ”ï¸    |

åˆ¤æ–­å£è¯€ï¼š
 ğŸ“Œ â€œæ±‚æœ€çŸ­èµ° BFSï¼Œæ±‚æ‰€æœ‰èµ° DFSâ€

------

## 7ï¸âƒ£ DFS å¸¸è§å‘

| å‘               | æ­£è§£                          |
| ---------------- | ----------------------------- |
| æ ˆæº¢å‡º           | Python å¯è°ƒé€’å½’ä¸Šé™           |
| visited å†™é”™     | æ³¨æ„æ ‡è®°æ—¶æœº                  |
| å›æº¯å¿˜è®°æ’¤é”€çŠ¶æ€ | `path.pop()`ã€`used[i]=False` |

------

## 8ï¸âƒ£ ä¸€å¥è¯è®°å¿†

> DFS = æœåˆ°åº• + å›æº¯æ’¤é”€çŠ¶æ€ + é˜²æ­¢é‡å¤

 ğŸŒ€ Recursion Cheat Sheet

## 1ï¸âƒ£ é€’å½’çš„æ ¸å¿ƒä¸‰è¦ç´ 

| è¦ç´                      | å¿…é¡»æ»¡è¶³           | ç¤ºä¾‹                  |
| ------------------------ | ------------------ | --------------------- |
| **æ˜ç¡®å‡ºå£**ï¼ˆç»ˆæ­¢æ¡ä»¶ï¼‰ | ä¸èƒ½æ— é™é€’å½’       | `if n == 0: return 1` |
| **ç¼©å°è§„æ¨¡**ï¼ˆé€’å½’æ¨è¿›ï¼‰ | æ¯æ¬¡é—®é¢˜å˜å°       | `f(n-1)`              |
| **è¿”å›ä¸åˆå¹¶**           | æŠŠå­é—®é¢˜çš„ç»“æœæ±‡æ€» | `return x + f(...)`   |

å£è¯€ï¼š

> **æœ‰å‡ºå£ â†’ è§„æ¨¡å‡ â†’ æ‹¿ç»“æœ â†’ ç»„åˆç»“æœ**

------

## 2ï¸âƒ£ é€’å½’æ¨¡æ¿ï¼ˆè¶…é€šç”¨ğŸ”¥ï¼‰

### âœ”ï¸ æœ‰è¿”å›å€¼

```
def dfs(x):
    if åˆ°è¾¹ç•Œ: return å€¼
    return åˆå¹¶( dfs(æ›´å°é—®é¢˜) )
```

ç¤ºä¾‹ï¼šé˜¶ä¹˜

```
def f(n):
    if n == 1: return 1
    return n * f(n-1)
```

------

### âœ”ï¸ æ— è¿”å›å€¼ï¼ˆå›æº¯/æœç´¢ï¼‰

```
def dfs(x):
    if åˆ°è¾¹ç•Œ: 
        è®°å½•ç­”æ¡ˆ
        return
    
    åšé€‰æ‹©
    dfs(...)
    æ’¤é”€é€‰æ‹©  # å›æº¯
```

------

## 3ï¸âƒ£ å¸¸è§ç±»å‹æ€»ç»“

| ç±»å‹     | ç‰¹ç‚¹          | ç¤ºä¾‹             |
| -------- | ------------- | ---------------- |
| çº¿æ€§é€’å½’ | å•æ–¹å‘å˜å°    | æ–æ³¢é‚£å¥‘ã€é˜¶ä¹˜   |
| æ ‘å½¢é€’å½’ | å¤šåˆ†æ”¯çˆ†ç‚¸    | æ ‘éå†ã€æ‹¬å·ç”Ÿæˆ |
| å›æº¯é€’å½’ | é€‰/ä¸é€‰ã€ç©·ä¸¾ | å…¨æ’åˆ—/ç»„åˆ      |
| å›¾DFS    | é˜²ç¯ + æ·±æœ   | å²›å±¿æ•°é‡ã€è¿é€šå— |

------

## 4ï¸âƒ£ é€’å½’ä¸å›æº¯å¯¹æ¯”

| é¡¹ç›®     | é€’å½’         | å›æº¯         |
| -------- | ------------ | ------------ |
| æ˜¯ä»€ä¹ˆ   | é‡å¤è°ƒç”¨è‡ªèº« | å¸¦æ’¤é”€çš„é€’å½’ |
| åœºæ™¯     | å­é—®é¢˜æ›´å°   | ç©·ä¸¾æ‰€æœ‰æ–¹æ¡ˆ |
| çŠ¶æ€æ¢å¤ | ä¸å¼ºæ±‚       | å¿…é¡»æ¢å¤     |

ä¸€å¥è¯è®°å¿†ï¼š

> å›æº¯ = é€’å½’ + æ¢å¤ç°åœº

------

## 5ï¸âƒ£ é€’å½’å¸¸è§é”™è¯¯ âš ï¸

| é”™è¯¯             | ç»“æœ             |
| ---------------- | ---------------- |
| æ²¡ç»ˆæ­¢æ¡ä»¶       | æ­»é€’å½’ / æ ˆæº¢å‡º  |
| ç»ˆæ­¢æ¡ä»¶ä¸å¯¹     | æ— æ³•è¦†ç›–æ‰€æœ‰æƒ…å†µ |
| æ²¡è¿”å›å€¼         | å¾—åˆ° None        |
| ä¿®æ”¹å…¨å±€ä½†ä¸å›é€€ | ç­”æ¡ˆé”™ã€é€»è¾‘æ··ä¹± |

------

## 6ï¸âƒ£ Python è°ƒè¯•æŠ€å·§

### æ‰“å°è°ƒç”¨è¿‡ç¨‹

```
def f(n, depth=0):
    print("  " * depth, "call:", n)
    if n == 0: return 0
    res = n + f(n-1, depth+1)
    print("  " * depth, "return:", res)
    return res
```

### é¿å…é€’å½’å±‚æ•°è¿‡æ·±ï¼ˆå¯åŠ ï¼‰

```
import sys
sys.setrecursionlimit(1000000)
```

> **é€’å½’ä¸æ˜¯ä»é¡¶å¾€ä¸‹æƒ³ï¼Œè€Œæ˜¯ä»åº•å¾€ä¸Šè¿”å›ç»“æœ**



# ğŸ§© è¿é€šå—ï¼ˆConnected Componentsï¼‰Cheat Sheet

## 1ï¸âƒ£ ä»€ä¹ˆæ˜¯è¿é€šå—ï¼Ÿ

- åœ¨ç½‘æ ¼æˆ–å›¾ä¸­ï¼Œ**ç›¸é‚»**ï¼ˆé€šå¸¸ä¸Šä¸‹å·¦å³å››æ–¹å‘ï¼‰ä¸”åŒç±»å…ƒç´ ç»„æˆçš„åŒºåŸŸ
- å…¸å‹ä»»åŠ¡ï¼š
  - æ•°å²›å±¿æ•°é‡
  - æ•°è¿é€šåŒºåŸŸå¤§å°
  - æ¶‚è‰²/æ ‡è®°åŒºåŸŸ
  - å›¾è¿é€šæ€§åˆ¤æ–­

å£è¯€ï¼š

> æ‰¾ä¸€ä¸ªç‚¹ â€”â€” å‘å¤–æ‰© â€”â€” æ ‡è®°å·²è®¿é—® â€”â€” ä¸é‡å¤

------

## 2ï¸âƒ£ å¸¸ç”¨æ–¹å‘ï¼ˆä¸ä¼šå†™æ–¹å‘å°±æ²¡æ³•åšï¼‰

```
dirs = [(1,0), (-1,0), (0,1), (0,-1)]
# æƒ³è¦å…«æ–¹å‘ï¼šåŠ ä¸Šå¯¹è§’çº¿
# dirs += [(1,1),(1,-1),(-1,1),(-1,-1)]
```

------

## 3ï¸âƒ£ DFS æ¨¡æ¿ï¼ˆæœ€å¸¸ç”¨ğŸ”¥ï¼‰

```
def dfs(i, j):
    if i<0 or i>=n or j<0 or j>=m: return
    if visited[i][j] or grid[i][j] == 0: return
    
    visited[i][j] = True  # æ ‡è®°è®¿é—®è¿‡

    for dx, dy in dirs:
        dfs(i + dx, j + dy)
```

ä¸»ç¨‹åºï¼š

```
count = 0
for i in range(n):
    for j in range(m):
        if grid[i][j] == 1 and not visited[i][j]:
            dfs(i, j)
            count += 1
```

------

## 4ï¸âƒ£ BFS æ¨¡æ¿ï¼ˆé˜Ÿåˆ—å†™æ³•ï¼‰

```
from collections import deque

def bfs(i, j):
    q = deque([(i, j)])
    visited[i][j] = True
    
    while q:
        x, y = q.popleft()
        for dx, dy in dirs:
            nx, ny = x+dx, y+dy
            if 0<=nx<n and 0<=ny<m and not visited[nx][ny] and grid[nx][ny]==1:
                visited[nx][ny] = True
                q.append((nx, ny))
```

ä¸»é€»è¾‘ä¸ DFS ä¸€æ ·

------

## 5ï¸âƒ£ å›¾è¿é€šå— DFSï¼ˆé‚»æ¥è¡¨ï¼‰

```
def dfs(x):
    visited.add(x)
    for y in graph[x]:
        if y not in visited:
            dfs(y)
```

------

## 6ï¸âƒ£ å…¸å‹é¢˜å‹é€Ÿè®°

| é¢˜ç›®ç±»å‹     | åˆ¤æ–­åŸºå‡†    | è¾“å‡ºå†…å®¹       |
| ------------ | ----------- | -------------- |
| å²›å±¿æ•°é‡     | grid==1     | æ•°é‡           |
| æœ€å¤§å²›å±¿é¢ç§¯ | grid==1     | è¿é€šå—å¤§å°     |
| äºŒç»´åŒºåŸŸæŸ“è‰² | grid å¯ç›¸åŒ | æ›¿æ¢å€¼         |
| å›¾è¿é€šæ€§     | graph       | æ˜¯å¦å…¨éƒ¨å¯åˆ°è¾¾ |

------

## 7ï¸âƒ£ è¿é€šå—å¸¸è§å‘ âš ï¸

| æ˜“é”™ç‚¹                     | ä¿®è¡¥æ–¹å¼                                  |
| -------------------------- | ----------------------------------------- |
| æ²¡æ ‡ visited â†’ æ­»å¾ªç¯      | æ¯è®¿é—®ä¸€ä¸ªç‚¹ç«‹åˆ»æ ‡è®°                      |
| è¾¹ç•Œåˆ¤æ–­ä¹±å†™               | å†™ç»Ÿä¸€ `if out-of-bound: return`          |
| æ–¹å‘ç¡¬ç¼–ç å†™é”™             | ç”¨ dirs æ•°ç»„ç»Ÿä¸€ç®¡ç†                      |
| BFS/DFS å¿˜è®°åˆå§‹åŒ– visited | `visited = [[False]*m for _ in range(n)]` |

------

## 8ï¸âƒ£ ä¸€å¥è¯è®°ä½è¿é€šå—

> **æ‰«ä¸€é â†’ é‡æ²¡è®¿é—®çš„å—å°± DFS/BFS æ‰©æ•£ â†’ è®¡æ•° or ç»Ÿè®¡ä¿¡æ¯**
